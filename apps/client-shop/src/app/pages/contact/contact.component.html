<!-- Professional B2B Contact Page -->
<div class="contact-page bg-slate-50">
  <p-toast></p-toast>

  <!-- Page Header -->
  <div class="bg-white border border-slate-200 rounded-lg mb-6">
    <div class="px-6 py-4 border-b border-slate-200">

      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-slate-900">Contact Our Business Team</h1>
          <p class="text-sm text-slate-600 mt-1">
            Get in touch with our dedicated B2B support team for wholesale opportunities
          </p>
        </div>
        <div class="hidden lg:flex items-center gap-3 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg">
          <div class="bg-blue-600 p-1.5 rounded-lg">
            <i class="pi pi-building text-white text-sm" aria-hidden="true"></i>
          </div>
          <span class="text-sm font-semibold text-blue-900">{{ contactInfo.companyName }} B2B</span>
        </div>
      </div>
    </div>

    <!-- Business Stats -->
    <div class="px-6 py-4 bg-slate-50/50">
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200">
          <div class="bg-blue-100 p-2 rounded-lg">
            <i class="pi pi-globe text-blue-600 text-sm"></i>
          </div>
          <div>
            <div class="text-lg font-bold text-slate-900">{{ businessInfo.coverage }}</div>
            <div class="text-xs text-slate-600">Market Coverage</div>
          </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200">
          <div class="bg-green-100 p-2 rounded-lg">
            <i class="pi pi-clock text-green-600 text-sm"></i>
          </div>
          <div>
            <div class="text-lg font-bold text-slate-900">24h</div>
            <div class="text-xs text-slate-600">Response Time</div>
          </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200">
          <div class="bg-purple-100 p-2 rounded-lg">
            <i class="pi pi-briefcase text-purple-600 text-sm"></i>
          </div>
          <div>
            <div class="text-lg font-bold text-slate-900">B2B</div>
            <div class="text-xs text-slate-600">Specialized</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="grid lg:grid-cols-2 gap-8">

    <!-- Contact Form -->
    <div>
      <div class="bg-white border border-slate-200 rounded-lg p-6">
        <div class="mb-6">
          <h2 class="text-xl font-bold text-slate-900 mb-2">
            Start a Business Partnership
          </h2>
          <p class="text-sm text-slate-600">
            Fill out the form below and our business development team will contact you within 24 hours
            to discuss wholesale opportunities, pricing, and partnership details. We're available 24/7 to support your business needs.
          </p>
        </div>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmitContactForm()" class="space-y-6">
          <!-- Name & Company Row -->
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label for="name" class="block text-sm font-semibold text-slate-700">
                Full Name <span class="text-red-500">*</span>
              </label>
              <input
                id="name"
                type="text"
                pInputText
                formControlName="name"
                placeholder="Your full name"
                class="w-full"
                [class.ng-invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched" />
              @if (contactForm.get('name')?.invalid && contactForm.get('name')?.touched) {
                <small class="text-red-500">Name is required (min. 2 characters)</small>
              }
            </div>

            <div class="space-y-2">
              <label for="company" class="block text-sm font-semibold text-slate-700">
                Company Name <span class="text-red-500">*</span>
              </label>
              <input
                id="company"
                type="text"
                pInputText
                formControlName="company"
                placeholder="Your company name"
                class="w-full"
                [class.ng-invalid]="contactForm.get('company')?.invalid && contactForm.get('company')?.touched" />
              @if (contactForm.get('company')?.invalid && contactForm.get('company')?.touched) {
                <small class="text-red-500">Company name is required</small>
              }
            </div>
          </div>

          <!-- Email & Phone Row -->
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label for="email" class="block text-sm font-semibold text-slate-700">
                Business Email <span class="text-red-500">*</span>
              </label>
              <input
                id="email"
                type="email"
                pInputText
                formControlName="email"
                placeholder="your.email@company.com"
                class="w-full"
                [class.ng-invalid]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" />
              @if (contactForm.get('email')?.invalid && contactForm.get('email')?.touched) {
                <small class="text-red-500">Valid business email is required</small>
              }
            </div>

            <div class="space-y-2">
              <label for="phone" class="block text-sm font-semibold text-slate-700">
                Phone Number
              </label>
              <input
                id="phone"
                type="tel"
                pInputText
                formControlName="phone"
                placeholder="+48 123 456 789"
                class="w-full" />
            </div>
          </div>

          <!-- Subject -->
          <div class="space-y-2">
            <label for="subject" class="block text-sm font-semibold text-slate-700">
              Subject <span class="text-red-500">*</span>
            </label>
            <input
              id="subject"
              type="text"
              pInputText
              formControlName="subject"
              placeholder="e.g. Wholesale Partnership Inquiry"
              class="w-full"
              [class.ng-invalid]="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched" />
            @if (contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched) {
              <small class="text-red-500">Subject is required</small>
            }
          </div>

          <!-- Message -->
          <div class="space-y-2">
            <label for="message" class="block text-sm font-semibold text-slate-700">
              Message <span class="text-red-500">*</span>
            </label>
            <textarea
              id="message"
              formControlName="message"
              placeholder="Tell us about your business, target market, expected order volumes, and how we can help you succeed..."
              rows="6"
              class="w-full resize-none p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              [class.border-red-500]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
            </textarea>
            @if (contactForm.get('message')?.invalid && contactForm.get('message')?.touched) {
              <small class="text-red-500">Message is required (min. 10 characters)</small>
            }
          </div>

          <!-- Submit Button -->
          <div class="pt-4">
            <p-button
              type="submit"
              label="Send Business Inquiry"
              icon="pi pi-send"
              severity="primary"
              size="large"
              [loading]="isSubmitting()"
              [disabled]="contactForm.invalid"
              styleClass="w-full !py-3 !text-sm font-semibold">
            </p-button>
          </div>
        </form>
      </div>
    </div>

    <!-- Contact Information -->
    <div>
      <!-- Direct Contact Methods -->
      <div class="bg-white border border-slate-200 rounded-lg p-6 mb-6">
        <h2 class="text-xl font-bold text-slate-900 mb-4">Direct Contact</h2>

        <!-- Email Card -->
        <div class="space-y-4">
          <div class="flex items-start gap-4 p-4 border border-slate-200 rounded-lg">
            <div class="bg-blue-100 p-3 rounded-xl flex-shrink-0">
              <i class="pi pi-envelope text-blue-600 text-lg"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-base font-semibold text-slate-900 mb-1">Email Sales Team</h3>
              <p class="text-sm text-slate-600 mb-3">Best for detailed inquiries and partnership discussions</p>
              <div class="flex flex-wrap gap-2">
                <a [href]="'mailto:' + contactInfo.email"
                   class="inline-flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                  <i class="pi pi-envelope text-xs"></i>
                  {{ contactInfo.email }}
                </a>
                <p-button
                  (onClick)="copyToClipboard(contactInfo.email, 'Email')"
                  icon="pi pi-copy"
                  severity="secondary"
                  [outlined]="true"
                  size="small"
                  styleClass="!px-2 !py-1">
                </p-button>
              </div>
            </div>
          </div>

          <!-- Phone Card -->
          <div class="flex items-start gap-4 p-4 border border-slate-200 rounded-lg">
            <div class="bg-green-100 p-3 rounded-xl flex-shrink-0">
              <i class="pi pi-phone text-green-600 text-lg"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-base font-semibold text-slate-900 mb-1">Call Business Line</h3>
              <p class="text-sm text-slate-600 mb-3">Available 24/7 for urgent matters and immediate assistance</p>
              <div class="flex flex-wrap gap-2">
                <a [href]="getPhoneLink()"
                   class="inline-flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 text-sm font-medium">
                  <i class="pi pi-phone text-xs"></i>
                  {{ formattedPhoneNumber }}
                </a>
                <p-button
                  (onClick)="copyToClipboard(contactInfo.phone, 'Phone')"
                  icon="pi pi-copy"
                  severity="secondary"
                  [outlined]="true"
                  size="small"
                  styleClass="!px-2 !py-1">
                </p-button>
              </div>
            </div>
          </div>

          <!-- WhatsApp Card -->
          <div class="flex items-start gap-4 p-4 border border-slate-200 rounded-lg">
            <div class="bg-teal-100 p-3 rounded-xl flex-shrink-0">
              <i class="pi pi-whatsapp text-teal-600 text-lg"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-base font-semibold text-slate-900 mb-1">WhatsApp Business</h3>
              <p class="text-sm text-slate-600 mb-3">Quick questions and order status updates - Available 24/7</p>
              <div class="flex flex-wrap gap-2">
                <a [href]="getWhatsAppLink()"
                   target="_blank"
                   rel="noopener noreferrer"
                   class="inline-flex items-center gap-2 px-3 py-1.5 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors duration-200 text-sm font-medium">
                  <i class="pi pi-whatsapp text-xs"></i>
                  {{ formattedPhoneNumber }}
                </a>
                <p-button
                  (onClick)="copyToClipboard(contactInfo.whatsapp, 'WhatsApp')"
                  icon="pi pi-copy"
                  severity="secondary"
                  [outlined]="true"
                  size="small"
                  styleClass="!px-2 !py-1">
                </p-button>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- Business Hours -->
      <div class="bg-white border border-slate-200 rounded-lg p-6">
        <div class="text-center">
          <div class="bg-slate-100 p-3 rounded-xl w-fit mx-auto mb-4">
            <i class="pi pi-clock text-slate-600 text-lg"></i>
          </div>
          <h3 class="text-base font-semibold text-slate-900 mb-2">Business Hours</h3>
          <p class="text-sm text-slate-600 mb-4">{{ businessInfo.hours }}</p>
          <div class="flex justify-center gap-2 text-xs">
            @for (lang of businessInfo.languages; track lang) {
              <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">{{ lang }}</span>
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Company Information -->
  <div class="mt-8 bg-white border border-slate-200 rounded-lg p-6">
    <div class="mb-6">
      <h2 class="text-xl font-bold text-slate-900 mb-2">Company Information</h2>
      <p class="text-sm text-slate-600">
        Complete business details for your records and compliance requirements.
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      <!-- Company Name -->
      <div class="p-4 border border-slate-200 rounded-lg text-center">
        <div class="bg-blue-100 p-3 rounded-xl w-fit mx-auto mb-4">
          <i class="pi pi-building text-blue-600 text-lg"></i>
        </div>
        <h3 class="text-base font-semibold text-slate-900 mb-2">Legal Entity</h3>
        <p class="text-sm text-slate-600 font-medium">{{ companyDetails.name }}</p>
      </div>

      <!-- Address -->
      <div class="p-4 border border-slate-200 rounded-lg text-center">
        <div class="bg-green-100 p-3 rounded-xl w-fit mx-auto mb-4">
          <i class="pi pi-map-marker text-green-600 text-lg"></i>
        </div>
        <h3 class="text-base font-semibold text-slate-900 mb-2">Registered Address</h3>
        <p class="text-sm text-slate-600">{{ companyDetails.address }}</p>
      </div>

      <!-- Tax Information -->
      <div class="p-4 border border-slate-200 rounded-lg text-center md:col-span-2 lg:col-span-1">
        <div class="bg-purple-100 p-3 rounded-xl w-fit mx-auto mb-4">
          <i class="pi pi-id-card text-purple-600 text-lg"></i>
        </div>
        <h3 class="text-base font-semibold text-slate-900 mb-3">Tax Information</h3>
        <div class="space-y-1 text-xs">
          <div><span class="font-medium">VAT ID:</span> {{ companyDetails.vatId }}</div>
          <div><span class="font-medium">REGON:</span> {{ companyDetails.regon }}</div>
          <div><span class="font-medium">KRS:</span> {{ companyDetails.krs }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
